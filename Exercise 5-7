/*Exercise 5-7. Write a program that will read and store an arbitrary sequence of records
relating to products. Each record includes three items of dataâ€”an integer product
number, a quantity, and a unit price. For product number 1001, the quantity is 25,
and the unit price is $9.95. Because you do not know yet how to create compound
types, simply use three different array-like sequences to represent these records.
The program should output each product on a separate line and include the total cost.
The last line should output the total cost for all products. Columns should align, so the
output should be something like this:
Product Quantity Unit Price Cost
1001    25       $9.95      $248.75
1003    10       $15.50     $155.00
                            $403.75
*/

# include <iostream>
# include <cctype>
# include <iomanip>
# include <array>
# include <cmath>
# include <vector>

using namespace std;

int main()
{
	std::vector<size_t> p_no{};
	std::vector<size_t> quantity{};
	std::vector<double> unit_price{};

	size_t p{};
	size_t q{};
	double up{};


	char yes_no{'y'};

	while (tolower(yes_no) == 'y')
	{
		std::cin >> p >> q >> up;
		p_no.push_back(p);
		quantity.push_back(q);
		unit_price.push_back(up);

		std::cin >> yes_no;

		while ((tolower(yes_no) != 'n') && (tolower(yes_no) != 'y'))
		{
			std::cout << "Please use Y or N: Try again" << std::endl;
			std::cin >> yes_no;
		}
	}

	for (size_t i{}; i < 53; i++)
		std::cout << '_';

	std::cout << std::endl;

	std::cout << std::left << setw(12) << "Product" << setw(13) << "Quantity" 
		                   << setw(15) << "Unit Price" << setw(13) << "Cost" << std::endl;

	for (size_t i{}; i < 53; i++)
		std::cout << '_';

	std::cout << std::endl;

	double total{};

	for (size_t i{}; i < std::size(p_no); i++)
	{
		std::cout << std::left << setw(12) << p_no[i] << setw(13) << quantity[i] 
			<< '$' << setw(14) << std::fixed << setprecision(2) << unit_price[i] 
			<< '$' << setw(12) << quantity[i] * unit_price[i] << std::endl;
		total += (quantity[i] * unit_price[i]);
	}

	std::cout << std::right << setw(41) << '$' << total << std::endl;
	for (size_t i{}; i < 53; i++)
		std::cout << '_';
	std::cout << std::endl;

	system("pause");
}
